"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[8567],{"./packages/components/build-module/dropdown/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var clsx__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),_wordpress_element__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/deprecated/build-module/index.js"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),_context__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./packages/components/build-module/context/context-connect.js"),_utils_hooks__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/components/build-module/utils/hooks/use-controlled-value.js"),_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/build-module/popover/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_context__WEBPACK_IMPORTED_MODULE_8__.Iq)(((props,forwardedRef)=>{const{renderContent,renderToggle,className,contentClassName,expandOnMobile,headerTitle,focusOnMount,popoverProps,onClose,onToggle,style,open,defaultOpen,position,variant}=(0,_context__WEBPACK_IMPORTED_MODULE_1__.y)(props,"Dropdown");void 0!==position&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_2__.Z)("`position` prop in wp.components.Dropdown",{since:"6.2",alternative:"`popoverProps.placement` prop",hint:"Note that the `position` prop will override any values passed through the `popoverProps.placement` prop."});const[fallbackPopoverAnchor,setFallbackPopoverAnchor]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useState)(null),containerRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_3__.useRef)(),[isOpen,setIsOpen]=(0,_utils_hooks__WEBPACK_IMPORTED_MODULE_4__.O)({defaultValue:defaultOpen,value:open,onChange:onToggle});function close(){onClose?.(),setIsOpen(!1)}const args={isOpen:!!isOpen,onToggle:()=>setIsOpen(!isOpen),onClose:close},popoverPropsHaveAnchor=!!(popoverProps?.anchor||popoverProps?.anchorRef||popoverProps?.getAnchorRect||popoverProps?.anchorRect);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className,ref:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)([containerRef,forwardedRef,setFallbackPopoverAnchor]),tabIndex:-1,style,children:[renderToggle(args),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_popover__WEBPACK_IMPORTED_MODULE_6__.ZP,{position,onClose:close,onFocusOutside:function closeIfFocusOutside(){if(!containerRef.current)return;const{ownerDocument}=containerRef.current,dialog=ownerDocument?.activeElement?.closest('[role="dialog"]');containerRef.current.contains(ownerDocument.activeElement)||dialog&&!dialog.contains(containerRef.current)||close()},expandOnMobile,headerTitle,focusOnMount,offset:13,anchor:popoverPropsHaveAnchor?void 0:fallbackPopoverAnchor,variant,...popoverProps,className:(0,clsx__WEBPACK_IMPORTED_MODULE_7__.Z)("components-dropdown__content",popoverProps?.className,contentClassName),children:renderContent(args)})]})}),"Dropdown")},"./packages/components/build-module/heading/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>heading_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/text/hook.js"),font_size=__webpack_require__("./packages/components/build-module/utils/font-size.js"),colors_values=__webpack_require__("./packages/components/build-module/utils/colors-values.js"),config_values=__webpack_require__("./packages/components/build-module/utils/config-values.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const heading_component=(0,context_connect.Iq)((function UnconnectedHeading(props,forwardedRef){const headerProps=function useHeading(props){const{as:asProp,level=2,color=colors_values.D.gray[900],isBlock=!0,weight=config_values.Z.fontWeightHeading,...otherProps}=(0,use_context_system.y)(props,"Heading"),as=asProp||`h${level}`,a11yProps={};return"string"==typeof as&&"h"!==as[0]&&(a11yProps.role="heading",a11yProps["aria-level"]="string"==typeof level?parseInt(level):level),{...(0,hook.Z)({color,isBlock,weight,size:(0,font_size.gZ)(level),...otherProps}),...a11yProps,as}}(props);return(0,jsx_runtime.jsx)(component.Z,{...headerProps,ref:forwardedRef})}),"Heading")},"./packages/components/build-module/utils/hooks/use-controlled-value.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>useControlledValue});var _wordpress_element__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");function useControlledValue({defaultValue,onChange,value:valueProp}){const hasValue=void 0!==valueProp,initialValue=hasValue?valueProp:defaultValue,[state,setState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_0__.useState)(initialValue);let setValue;return setValue=hasValue&&"function"==typeof onChange?onChange:hasValue||"function"!=typeof onChange?setState:nextValue=>{onChange(nextValue),setState(nextValue)},[hasValue?valueProp:state,setValue]}},"./packages/components/build-module/v-stack/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>v_stack_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/h-stack/hook.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const v_stack_component=(0,context_connect.Iq)((function UnconnectedVStack(props,forwardedRef){const vStackProps=function useVStack(props){const{expanded=!1,alignment="stretch",...otherProps}=(0,use_context_system.y)(props,"VStack");return(0,hook.R)({direction:"column",expanded,alignment,...otherProps})}(props);return(0,jsx_runtime.jsx)(component.Z,{...vStackProps,ref:forwardedRef})}),"VStack")},"./packages/icons/build-module/library/close-small.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})})},"./packages/dataviews/src/normalize-fields.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>normalizeFields});const field_types_integer={sort:function sort(a,b,direction){return"asc"===direction?a-b:b-a},isValid:function isValid(value,context){if(""===value)return!1;if(!Number.isInteger(Number(value)))return!1;if(context?.elements){const validValues=context?.elements.map((f=>f.value));if(!validValues.includes(Number(value)))return!1}return!0},Edit:"integer"};const field_types_text={sort:function text_sort(valueA,valueB,direction){return"asc"===direction?valueA.localeCompare(valueB):valueB.localeCompare(valueA)},isValid:function text_isValid(value,context){if(context?.elements){const validValues=context?.elements?.map((f=>f.value));if(!validValues.includes(value))return!1}return!0},Edit:"text"};const field_types_datetime={sort:function datetime_sort(a,b,direction){const timeA=new Date(a).getTime(),timeB=new Date(b).getTime();return"asc"===direction?timeA-timeB:timeB-timeA},isValid:function datetime_isValid(value,context){if(context?.elements){const validValues=context?.elements.map((f=>f.value));if(!validValues.includes(value))return!1}return!0},Edit:"datetime"};try{fieldtypes.displayName="fieldtypes",fieldtypes.__docgenInfo={description:"",displayName:"fieldtypes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/field-types/index.tsx#fieldtypes"]={docgenInfo:fieldtypes.__docgenInfo,name:"fieldtypes",path:"packages/dataviews/src/field-types/index.tsx#fieldtypes"})}catch(__react_docgen_typescript_loader_error){}var base_control=__webpack_require__("./packages/components/build-module/base-control/index.js"),component=__webpack_require__("./packages/components/build-module/visually-hidden/component.js"),time=__webpack_require__("./packages/components/build-module/date-time/time/index.js"),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function DateTime({data,field,onChange,hideLabelFromVision}){const{id,label}=field,value=field.getValue({item:data}),onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]);return(0,jsx_runtime.jsxs)("fieldset",{className:"dataviews-controls__datetime",children:[!hideLabelFromVision&&(0,jsx_runtime.jsx)(base_control.ZP.VisualLabel,{as:"legend",children:label}),hideLabelFromVision&&(0,jsx_runtime.jsx)(component.Z,{as:"legend",children:label}),(0,jsx_runtime.jsx)(time.Z,{currentTime:value,onChange:onChangeControl,hideLabelFromVision:!0})]})}DateTime.displayName="DateTime";try{datetime.displayName="datetime",datetime.__docgenInfo={description:"",displayName:"datetime",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/datetime.tsx#datetime"]={docgenInfo:datetime.__docgenInfo,name:"datetime",path:"packages/dataviews/src/dataform-controls/datetime.tsx#datetime"})}catch(__react_docgen_typescript_loader_error){}var number_control=__webpack_require__("./packages/components/build-module/number-control/index.js");function Integer({data,field,onChange,hideLabelFromVision}){var _field$getValue;const{id,label,description}=field,value=null!==(_field$getValue=field.getValue({item:data}))&&void 0!==_field$getValue?_field$getValue:"",onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:Number(newValue)})),[id,onChange]);return(0,jsx_runtime.jsx)(number_control.Z,{label,help:description,value,onChange:onChangeControl,__next40pxDefaultSize:!0,hideLabelFromVision})}Integer.displayName="Integer";try{integer.displayName="integer",integer.__docgenInfo={description:"",displayName:"integer",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/integer.tsx#integer"]={docgenInfo:integer.__docgenInfo,name:"integer",path:"packages/dataviews/src/dataform-controls/integer.tsx#integer"})}catch(__react_docgen_typescript_loader_error){}var radio_control=__webpack_require__("./packages/components/build-module/radio-control/index.js");try{radio.displayName="radio",radio.__docgenInfo={description:"",displayName:"radio",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/radio.tsx#radio"]={docgenInfo:radio.__docgenInfo,name:"radio",path:"packages/dataviews/src/dataform-controls/radio.tsx#radio"})}catch(__react_docgen_typescript_loader_error){}var select_control=__webpack_require__("./packages/components/build-module/select-control/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js");function Select({data,field,onChange,hideLabelFromVision}){var _field$getValue,_field$elements;const{id,label}=field,value=null!==(_field$getValue=field.getValue({item:data}))&&void 0!==_field$getValue?_field$getValue:"",onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]),elements=[{label:(0,build_module.__)("Select item"),value:""},...null!==(_field$elements=field?.elements)&&void 0!==_field$elements?_field$elements:[]];return(0,jsx_runtime.jsx)(select_control.Z,{label,value,options:elements,onChange:onChangeControl,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision})}Select.displayName="Select";try{select.displayName="select",select.__docgenInfo={description:"",displayName:"select",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/select.tsx#select"]={docgenInfo:select.__docgenInfo,name:"select",path:"packages/dataviews/src/dataform-controls/select.tsx#select"})}catch(__react_docgen_typescript_loader_error){}var text_control=__webpack_require__("./packages/components/build-module/text-control/index.js");function Text({data,field,onChange,hideLabelFromVision}){const{id,label,placeholder}=field,value=field.getValue({item:data}),onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]);return(0,jsx_runtime.jsx)(text_control.Z,{label,placeholder,value:null!=value?value:"",onChange:onChangeControl,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,hideLabelFromVision})}Text.displayName="Text";try{text.displayName="text",text.__docgenInfo={description:"",displayName:"text",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},field:{defaultValue:null,description:"",name:"field",required:!0,type:{name:"NormalizedField<Item>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}},hideLabelFromVision:{defaultValue:null,description:"",name:"hideLabelFromVision",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/text.tsx#text"]={docgenInfo:text.__docgenInfo,name:"text",path:"packages/dataviews/src/dataform-controls/text.tsx#text"})}catch(__react_docgen_typescript_loader_error){}const FORM_CONTROLS={datetime:DateTime,integer:Integer,radio:function Radio({data,field,onChange,hideLabelFromVision}){const{id,label}=field,value=field.getValue({item:data}),onChangeControl=(0,react.useCallback)((newValue=>onChange({[id]:newValue})),[id,onChange]);return field.elements?(0,jsx_runtime.jsx)(radio_control.Z,{label,onChange:onChangeControl,options:field.elements,selected:value,hideLabelFromVision}):null},select:Select,text:Text};function getControlByType(type){if(Object.keys(FORM_CONTROLS).includes(type))return FORM_CONTROLS[type];throw"Control "+type+" not found"}try{getControlByType.displayName="getControlByType",getControlByType.__docgenInfo={description:"",displayName:"getControlByType",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataform-controls/index.tsx#getControlByType"]={docgenInfo:getControlByType.__docgenInfo,name:"getControlByType",path:"packages/dataviews/src/dataform-controls/index.tsx#getControlByType"})}catch(__react_docgen_typescript_loader_error){}function normalizeFields(fields){return fields.map((field=>{var _field$sort,_field$isValid;const fieldTypeDefinition=function getFieldTypeDefinition(type){return"integer"===type?field_types_integer:"text"===type?field_types_text:"datetime"===type?field_types_datetime:{sort:(a,b,direction)=>"number"==typeof a&&"number"==typeof b?"asc"===direction?a-b:b-a:"asc"===direction?a.localeCompare(b):b.localeCompare(a),isValid:(value,context)=>{if(context?.elements){const validValues=context?.elements?.map((f=>f.value));if(!validValues.includes(value))return!1}return!0},Edit:()=>null}}(field.type),getValue=field.getValue||(({item})=>item[field.id]),sort=null!==(_field$sort=field.sort)&&void 0!==_field$sort?_field$sort:function sort(a,b,direction){return fieldTypeDefinition.sort(getValue({item:a}),getValue({item:b}),direction)},isValid=null!==(_field$isValid=field.isValid)&&void 0!==_field$isValid?_field$isValid:function isValid(item,context){return fieldTypeDefinition.isValid(getValue({item}),context)},Edit=function getControl(field,fieldTypeDefinition){return"function"==typeof field.Edit?field.Edit:"string"==typeof field.Edit?getControlByType(field.Edit):field.elements?getControlByType("select"):"string"==typeof fieldTypeDefinition.Edit?getControlByType(fieldTypeDefinition.Edit):fieldTypeDefinition.Edit}(field,fieldTypeDefinition),render=field.render||(field.elements?({item})=>{const value=getValue({item});return field?.elements?.find((element=>element.value===value))?.label||getValue({item})}:getValue);return{...field,label:field.label||field.id,getValue,render,sort,isValid,Edit}}))}},"./node_modules/date-fns/set.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>set});var _constructFrom_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/constructFrom.mjs"),_setMonth_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/setMonth.mjs"),_toDate_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/toDate.mjs");function set(date,values){let _date=(0,_toDate_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(date);return isNaN(+_date)?(0,_constructFrom_mjs__WEBPACK_IMPORTED_MODULE_1__.L)(date,NaN):(null!=values.year&&_date.setFullYear(values.year),null!=values.month&&(_date=(0,_setMonth_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(_date,values.month)),null!=values.date&&_date.setDate(values.date),null!=values.hours&&_date.setHours(values.hours),null!=values.minutes&&_date.setMinutes(values.minutes),null!=values.seconds&&_date.setSeconds(values.seconds),null!=values.milliseconds&&_date.setMilliseconds(values.milliseconds),_date)}},"./node_modules/date-fns/setMonth.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>setMonth});var constructFrom=__webpack_require__("./node_modules/date-fns/constructFrom.mjs"),toDate=__webpack_require__("./node_modules/date-fns/toDate.mjs");function getDaysInMonth(date){const _date=(0,toDate.Q)(date),year=_date.getFullYear(),monthIndex=_date.getMonth(),lastDayOfMonth=(0,constructFrom.L)(date,0);return lastDayOfMonth.setFullYear(year,monthIndex+1,0),lastDayOfMonth.setHours(0,0,0,0),lastDayOfMonth.getDate()}function setMonth(date,month){const _date=(0,toDate.Q)(date),year=_date.getFullYear(),day=_date.getDate(),dateWithDesiredMonth=(0,constructFrom.L)(date,0);dateWithDesiredMonth.setFullYear(year,month,15),dateWithDesiredMonth.setHours(0,0,0,0);const daysInMonth=getDaysInMonth(dateWithDesiredMonth);return _date.setMonth(month,Math.min(day,daysInMonth)),_date}},"./node_modules/date-fns/startOfMinute.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>startOfMinute});var _toDate_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/toDate.mjs");function startOfMinute(date){const _date=(0,_toDate_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(date);return _date.setSeconds(0,0),_date}},"./packages/components/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{YF:()=>useFloating,x7:()=>arrow});var _floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-dom/index.js");const arrow=options=>({name:"arrow",options,fn(state){const{element,padding}="function"==typeof options?options(state):options;return element&&function isRef(value){return{}.hasOwnProperty.call(value,"current")}(element)?null!=element.current?(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.x7)({element:element.current,padding}).fn(state):{}:element?(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.x7)({element,padding}).fn(state):{}}});var index="undefined"!=typeof document?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect;function deepEqual(a,b){if(a===b)return!0;if(typeof a!=typeof b)return!1;if("function"==typeof a&&a.toString()===b.toString())return!0;let length,i,keys;if(a&&b&&"object"==typeof a){if(Array.isArray(a)){if(length=a.length,length!=b.length)return!1;for(i=length;0!=i--;)if(!deepEqual(a[i],b[i]))return!1;return!0}if(keys=Object.keys(a),length=keys.length,length!==Object.keys(b).length)return!1;for(i=length;0!=i--;)if(!{}.hasOwnProperty.call(b,keys[i]))return!1;for(i=length;0!=i--;){const key=keys[i];if(("_owner"!==key||!a.$$typeof)&&!deepEqual(a[key],b[key]))return!1}return!0}return a!=a&&b!=b}function getDPR(element){if("undefined"==typeof window)return 1;return(element.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(element,value){const dpr=getDPR(element);return Math.round(value*dpr)/dpr}function useLatestRef(value){const ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef(value);return index((()=>{ref.current=value})),ref}function useFloating(options){void 0===options&&(options={});const{placement="bottom",strategy="absolute",middleware=[],platform,elements:{reference:externalReference,floating:externalFloating}={},transform=!0,whileElementsMounted,open}=options,[data,setData]=react__WEBPACK_IMPORTED_MODULE_0__.useState({x:0,y:0,strategy,placement,middlewareData:{},isPositioned:!1}),[latestMiddleware,setLatestMiddleware]=react__WEBPACK_IMPORTED_MODULE_0__.useState(middleware);deepEqual(latestMiddleware,middleware)||setLatestMiddleware(middleware);const[_reference,_setReference]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),[_floating,_setFloating]=react__WEBPACK_IMPORTED_MODULE_0__.useState(null),setReference=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node=>{node!=referenceRef.current&&(referenceRef.current=node,_setReference(node))}),[_setReference]),setFloating=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node=>{node!==floatingRef.current&&(floatingRef.current=node,_setFloating(node))}),[_setFloating]),referenceEl=externalReference||_reference,floatingEl=externalFloating||_floating,referenceRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),floatingRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),dataRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(data),whileElementsMountedRef=useLatestRef(whileElementsMounted),platformRef=useLatestRef(platform),update=react__WEBPACK_IMPORTED_MODULE_0__.useCallback((()=>{if(!referenceRef.current||!floatingRef.current)return;const config={placement,strategy,middleware:latestMiddleware};platformRef.current&&(config.platform=platformRef.current),(0,_floating_ui_dom__WEBPACK_IMPORTED_MODULE_2__.oo)(referenceRef.current,floatingRef.current,config).then((data=>{const fullData={...data,isPositioned:!0};isMountedRef.current&&!deepEqual(dataRef.current,fullData)&&(dataRef.current=fullData,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync((()=>{setData(fullData)})))}))}),[latestMiddleware,placement,strategy,platformRef]);index((()=>{!1===open&&dataRef.current.isPositioned&&(dataRef.current.isPositioned=!1,setData((data=>({...data,isPositioned:!1}))))}),[open]);const isMountedRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(!1);index((()=>(isMountedRef.current=!0,()=>{isMountedRef.current=!1})),[]),index((()=>{if(referenceEl&&(referenceRef.current=referenceEl),floatingEl&&(floatingRef.current=floatingEl),referenceEl&&floatingEl){if(whileElementsMountedRef.current)return whileElementsMountedRef.current(referenceEl,floatingEl,update);update()}}),[referenceEl,floatingEl,update,whileElementsMountedRef]);const refs=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({reference:referenceRef,floating:floatingRef,setReference,setFloating})),[setReference,setFloating]),elements=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({reference:referenceEl,floating:floatingEl})),[referenceEl,floatingEl]),floatingStyles=react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>{const initialStyles={position:strategy,left:0,top:0};if(!elements.floating)return initialStyles;const x=roundByDPR(elements.floating,data.x),y=roundByDPR(elements.floating,data.y);return transform?{...initialStyles,transform:"translate("+x+"px, "+y+"px)",...getDPR(elements.floating)>=1.5&&{willChange:"transform"}}:{position:strategy,left:x,top:y}}),[strategy,transform,elements.floating,data.x,data.y]);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>({...data,update,refs,elements,floatingStyles})),[data,update,refs,elements,floatingStyles])}},"./packages/components/node_modules/uuid/dist/esm-browser/v4.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var getRandomValues;__webpack_require__.d(__webpack_exports__,{Z:()=>esm_browser_v4});var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const esm_browser_validate=function validate(uuid){return"string"==typeof uuid&&regex.test(uuid)};for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));const esm_browser_stringify=function stringify(arr){var offset=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!esm_browser_validate(uuid))throw TypeError("Stringified UUID is invalid");return uuid};const esm_browser_v4=function v4(options,buf,offset){var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return esm_browser_stringify(rnds)}},"./packages/dataviews/src/components/dataform/stories/index.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>index_story});var react=__webpack_require__("./node_modules/react/index.js"),component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),normalize_fields=__webpack_require__("./packages/dataviews/src/normalize-fields.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function FormRegular({data,fields,form,onChange}){const visibleFields=(0,react.useMemo)((()=>{var _form$fields;return(0,normalize_fields.U)((null!==(_form$fields=form.fields)&&void 0!==_form$fields?_form$fields:[]).map((fieldId=>fields.find((({id})=>id===fieldId)))).filter((field=>!!field)))}),[fields,form.fields]);return(0,jsx_runtime.jsx)(component.Z,{spacing:4,children:visibleFields.map((field=>(0,jsx_runtime.jsx)(field.Edit,{data,field,onChange},field.id)))})}FormRegular.displayName="FormRegular";try{regular.displayName="regular",regular.__docgenInfo={description:"",displayName:"regular",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},form:{defaultValue:null,description:"",name:"form",required:!0,type:{name:"Form"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataforms-layouts/regular/index.tsx#regular"]={docgenInfo:regular.__docgenInfo,name:"regular",path:"packages/dataviews/src/dataforms-layouts/regular/index.tsx#regular"})}catch(__react_docgen_typescript_loader_error){}var h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),heading_component=__webpack_require__("./packages/components/build-module/heading/component.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js");function DropdownHeader({title,onClose}){return(0,jsx_runtime.jsx)(component.Z,{className:"dataforms-layouts-panel__dropdown-header",spacing:4,children:(0,jsx_runtime.jsxs)(h_stack_component.Z,{alignment:"center",children:[(0,jsx_runtime.jsx)(heading_component.Z,{level:2,size:13,children:title}),(0,jsx_runtime.jsx)(spacer_component.Z,{}),onClose&&(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataforms-layouts-panel__dropdown-header-action",label:(0,build_module.__)("Close"),icon:close_small.Z,onClick:onClose})]})})}function FormField({data,field,onChange}){const[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),popoverProps=(0,react.useMemo)((()=>({anchor:popoverAnchor,placement:"left-start",offset:36,shift:!0})),[popoverAnchor]);return(0,jsx_runtime.jsxs)(h_stack_component.Z,{ref:setPopoverAnchor,className:"dataforms-layouts-panel__field",children:[(0,jsx_runtime.jsx)("div",{className:"dataforms-layouts-panel__field-label",children:field.label}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(dropdown.Z,{contentClassName:"dataforms-layouts-panel__field-dropdown",popoverProps,focusOnMount:!0,toggleProps:{size:"compact",variant:"tertiary",tooltipPosition:"middle left"},renderToggle:({isOpen,onToggle})=>(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataforms-layouts-panel__field-control",size:"compact",variant:"tertiary","aria-expanded":isOpen,"aria-label":(0,build_module.gB)((0,build_module.__)("Edit %s"),field.label),onClick:onToggle,children:(0,jsx_runtime.jsx)(field.render,{item:data})}),renderContent:({onClose})=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DropdownHeader,{title:field.label,onClose}),(0,jsx_runtime.jsx)(field.Edit,{data,field,onChange,hideLabelFromVision:!0},field.id)]})})})]})}function FormPanel({data,fields,form,onChange}){const visibleFields=(0,react.useMemo)((()=>{var _form$fields;return(0,normalize_fields.U)((null!==(_form$fields=form.fields)&&void 0!==_form$fields?_form$fields:[]).map((fieldId=>fields.find((({id})=>id===fieldId)))).filter((field=>!!field)))}),[fields,form.fields]);return(0,jsx_runtime.jsx)(component.Z,{spacing:2,children:visibleFields.map((field=>(0,jsx_runtime.jsx)(FormField,{data,field,onChange},field.id)))})}DropdownHeader.displayName="DropdownHeader",FormField.displayName="FormField",FormPanel.displayName="FormPanel";try{panel.displayName="panel",panel.__docgenInfo={description:"",displayName:"panel",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},form:{defaultValue:null,description:"",name:"form",required:!0,type:{name:"Form"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataforms-layouts/panel/index.tsx#panel"]={docgenInfo:panel.__docgenInfo,name:"panel",path:"packages/dataviews/src/dataforms-layouts/panel/index.tsx#panel"})}catch(__react_docgen_typescript_loader_error){}const FORM_LAYOUTS=[{type:"regular",component:FormRegular},{type:"panel",component:FormPanel}];function getFormLayout(type){return FORM_LAYOUTS.find((layout=>layout.type===type))}try{getFormLayout.displayName="getFormLayout",getFormLayout.__docgenInfo={description:"",displayName:"getFormLayout",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataforms-layouts/index.tsx#getFormLayout"]={docgenInfo:getFormLayout.__docgenInfo,name:"getFormLayout",path:"packages/dataviews/src/dataforms-layouts/index.tsx#getFormLayout"})}catch(__react_docgen_typescript_loader_error){}function DataForm({form,...props}){var _form$type;const layout=getFormLayout(null!==(_form$type=form.type)&&void 0!==_form$type?_form$type:"regular");return layout?(0,jsx_runtime.jsx)(layout.component,{form,...props}):null}DataForm.displayName="DataForm";try{dataform.displayName="dataform",dataform.__docgenInfo={description:"",displayName:"dataform",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},form:{defaultValue:null,description:"",name:"form",required:!0,type:{name:"Form"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataform/index.tsx#dataform"]={docgenInfo:dataform.__docgenInfo,name:"dataform",path:"packages/dataviews/src/components/dataform/index.tsx#dataform"})}catch(__react_docgen_typescript_loader_error){}const index_story={title:"DataViews/DataForm",component:DataForm,argTypes:{type:{control:{type:"select"},description:'Chooses the layout of the form. "regular" is the default layout.',options:["regular","panel"]}},parameters:{sourceLink:"packages/dataviews/src/components/dataform",badges:[]}},fields=[{id:"title",label:"Title",type:"text"},{id:"order",label:"Order",type:"integer"},{id:"date",label:"Date",type:"datetime"},{id:"birthdate",label:"Date as options",type:"datetime",elements:[{value:"1970-02-23T12:00:00",label:"Jane's birth date"},{value:"1950-02-23T12:00:00",label:"John's birth date"}]},{id:"author",label:"Author",type:"integer",elements:[{value:1,label:"Jane"},{value:2,label:"John"}]},{id:"reviewer",label:"Reviewer",type:"text",Edit:"radio",elements:[{value:"fulano",label:"Fulano"},{value:"mengano",label:"Mengano"},{value:"zutano",label:"Zutano"}]},{id:"status",label:"Status",type:"text",elements:[{value:"draft",label:"Draft"},{value:"published",label:"Published"}]}],Default=({type})=>{const[post,setPost]=(0,react.useState)({title:"Hello, World!",order:2,author:1,status:"draft",reviewer:"fulano",date:"2021-01-01T12:00:00",birthdate:"1950-02-23T12:00:00"});return(0,jsx_runtime.jsx)(DataForm,{data:post,fields,form:{fields:["title","order","author","reviewer","status","date","birthdate"],type},onChange:edits=>setPost((prev=>({...prev,...edits})))})};Default.displayName="Default",Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"({\n  type\n}: {\n  type: 'panel' | 'regular';\n}) => {\n  const [post, setPost] = useState({\n    title: 'Hello, World!',\n    order: 2,\n    author: 1,\n    status: 'draft',\n    reviewer: 'fulano',\n    date: '2021-01-01T12:00:00',\n    birthdate: '1950-02-23T12:00:00'\n  });\n  const form = {\n    fields: ['title', 'order', 'author', 'reviewer', 'status', 'date', 'birthdate']\n  };\n  return <DataForm data={post} fields={fields} form={{\n    ...form,\n    type\n  }} onChange={edits => setPost(prev => ({\n    ...prev,\n    ...edits\n  }))} />;\n}",...Default.parameters?.docs?.source}}};try{Default.displayName="Default",Default.__docgenInfo={description:"",displayName:"Default",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"regular"'},{value:'"panel"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataform/stories/index.story.tsx#Default"]={docgenInfo:Default.__docgenInfo,name:"Default",path:"packages/dataviews/src/components/dataform/stories/index.story.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}}}]);